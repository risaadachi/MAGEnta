<div class="container">
	<h1>Codes</h1>
	<div class="row">

		<%= render 'codes/show', code: @code %>


		<!-- PV -->
		<%= @code.impressionist_count %>
		<span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>

<!-- Get the unique impression count from a model filtered by session hash. Same as #6 regarding request hash. This may be more desirable than filtering by IP address depending on your situation, since filtering by IP may ignore visitors that use the same IP. The downside to this filtering is that a user could clear session data in their browser and skew the results.
↑READMEより。
ユーザが見た分増える。リロード、いいね、コメントしても増えない。 -->
<!-- いいね -->
<div id="fav-<%= @code.id %>">
    <%= render 'fav', code: @code %>
</div>

<!-- コメント -->
<div class="comments">
	<%= @code.comments.count %>
	<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
	<br>
	<%= form_for [@code, @comment], remote: true do |f| %>
	<%= f.text_area :body, placeholder: "Max 200characters", class: "btn btn-default col-xs-3", id: "comment-body" %><br>
	<%= f.submit 'Submit', class: "btn btn-default col-xs-3" %><br>
	<% end %>
</div>

<div id="comment-id">
		<%= render 'comments/index', comments: @comments %><br>
</div>

</div>
</div>